#include <avr/io.h>
#include <avr/interrupt.h>

int val = 0;
int timer1Sec =15624;

void setup()
{
  Serial.begin(9600);
  DDRB |= (1 << 5);
  DDRB |= (0 << 1);
  cli();  
    TCCR1A = 0;  
    TCCR1B = 0;
    OCR1A = timer1Sec; 
    TCCR1B |= (1 << WGM12);  
    TCCR1B |= (1 << CS10); 
    TCCR1B |= (1 << CS12);
    TIMSK1 |= (1 << OCIE1A);  
    sei(); 
}
void loop()
{
  if (PINB == (1 << 0))
  {
    val++;
    if (val > 2) { val = 0; }
  }
  if (val == 0){
  OCR1A = timer1Sec;
  }
  if (val == 1){
  OCR1A = timer1Sec/1.5;
  }
  if (val == 2){
    OCR1A = timer1Sec/2;
  }
}
int sec = 0;
ISR(TIMER1_COMPA_vect)
{
  Serial.print(sec);
  sec++;
  if(sec == 1)
  {
      PORTB |= (1 << 5);
  }
  else if (sec == 2)
  {
      PORTB &= ~(1 << 5);
    sec = 0;
  }
}
